(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,31278,79002,e=>{"use strict";var t=e.i(71645);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:n="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...l,width:s,height:s,stroke:e,strokeWidth:i?24*Number(r)/Number(s):r,className:a("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(o)?o:[o]])),i=(e,l)=>{let i=(0,t.forwardRef)(({className:i,...n},o)=>(0,t.createElement)(r,{ref:o,iconNode:l,className:a(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...n}));return i.displayName=s(e),i};e.s(["default",()=>i],75254);let n=i("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>n],31278);let o=i("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>o],79002)},31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(17927),l=e.i(18566),r=e.i(75254);let i=(0,r.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),n=(0,r.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var o=e.i(31278);let c=(0,r.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var d=e.i(79002);let u=(0,r.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),h=(0,r.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),x=(0,r.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p=(0,r.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=(0,r.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function g(){let[e,r]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),[w,y]=(0,s.useState)(!1),[b,j]=(0,s.useState)(!1),[v,N]=(0,s.useState)("sign_in"),[k,C]=(0,s.useState)("password"),[A,_]=(0,s.useState)(null),[M,S]=(0,s.useState)(0),[$,L]=(0,s.useState)("user"),U=(0,l.useRouter)();(0,s.useEffect)(()=>{if("sign_up"===v){let e=0;g.length>=8&&(e+=1),/[A-Z]/.test(g)&&(e+=1),/[0-9]/.test(g)&&(e+=1),/[^A-Za-z0-9]/.test(g)&&(e+=1),S(e)}},[g,v]);let z=async t=>{if(t.preventDefault(),j(!0),_(null),"sign_up"===v&&M<3){_({type:"error",text:"Password is too weak. Make it stronger."}),j(!1);return}try{if("sign_up"===v){let{error:t}=await a.supabase.auth.signUp({email:e,password:g,options:{data:{role:$,status:"pending"}}});if(t)throw t;_({type:"success",text:"Account created! Waiting for Admin approval."}),N("sign_in")}else if("password"===k){let{error:t}=await a.supabase.auth.signInWithPassword({email:e,password:g});if(t)throw t;U.push("/dashboard")}else{let{error:t}=await a.supabase.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(t)throw t;_({type:"success",text:"Magic link sent! Check your email."})}}catch(e){_({type:"error",text:e.message})}finally{j(!1)}};return(0,t.jsxs)("div",{className:"w-full max-w-md p-8 rounded-2xl glass-panel animate-float",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"mx-auto w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 backdrop-blur-md shadow-[0_0_30px_rgba(120,119,198,0.3)] overflow-hidden p-1 border border-white/20",children:(0,t.jsx)("img",{src:"/A7-Vault/logo.png",alt:"A7 Vault Logo",className:"w-full h-full object-cover rounded-full"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-white/60",children:"sign_in"===v?"Welcome Back":"Create Account"}),(0,t.jsx)("p",{className:"text-gray-400 mt-2",children:"sign_in"===v?"Yoonos Personal Vault":"Join the Future of Storage"})]}),(0,t.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(n,{className:"absolute left-3 top-3 w-5 h-5 text-gray-500 group-hover:text-white transition-colors"}),(0,t.jsx)("input",{type:"email",placeholder:"Email address",className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-10 pr-4 text-white placeholder-gray-500 focus:outline-none focus:border-white/30 focus:ring-1 focus:ring-white/30 transition-all",value:e,onChange:e=>r(e.target.value),required:!0})]})}),("password"===k||"sign_up"===v)&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(i,{className:"absolute left-3 top-3 w-5 h-5 text-gray-500 group-hover:text-white transition-colors"}),(0,t.jsx)("input",{type:w?"text":"password",placeholder:"sign_up"===v?"Create Password":"Password",className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-10 pr-10 text-white placeholder-gray-500 focus:outline-none focus:border-white/30 focus:ring-1 focus:ring-white/30 transition-all",value:g,onChange:e=>f(e.target.value),required:!0,minLength:6}),(0,t.jsx)("button",{type:"button",onClick:()=>y(!w),className:"absolute right-3 top-3 text-gray-500 hover:text-white transition-colors focus:outline-none",children:w?(0,t.jsx)(m,{className:"w-5 h-5"}):(0,t.jsx)(p,{className:"w-5 h-5"})})]}),"sign_up"===v&&(0,t.jsxs)("div",{className:"flex bg-white/5 p-1 rounded-xl mt-4",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>L("user"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm transition-all ${"user"===$?"bg-white/10 text-white shadow-sm":"text-gray-400 hover:text-gray-200"}`,children:[(0,t.jsx)(x,{className:"w-4 h-4"})," User"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>L("admin"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm transition-all ${"admin"===$?"bg-purple-500/20 text-purple-200 shadow-sm":"text-gray-400 hover:text-gray-200"}`,children:[(0,t.jsx)(h,{className:"w-4 h-4"})," Admin"]})]}),"sign_up"===v&&g&&(0,t.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,t.jsxs)("div",{className:"flex gap-1 h-1.5 overflow-hidden rounded-full bg-white/10",children:[(0,t.jsx)("div",{className:`h-full transition-all duration-500 ${M>=1?"w-1/4 bg-red-400":"w-0"}`}),(0,t.jsx)("div",{className:`h-full transition-all duration-500 ${M>=2?"w-1/4 bg-orange-400":"w-0"}`}),(0,t.jsx)("div",{className:`h-full transition-all duration-500 ${M>=3?"w-1/4 bg-yellow-400":"w-0"}`}),(0,t.jsx)("div",{className:`h-full transition-all duration-500 ${M>=4?"w-1/4 bg-green-400":"w-0"}`})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 px-1",children:[(0,t.jsx)("span",{children:"Weak"}),(0,t.jsx)("span",{children:"Strong"})]}),(0,t.jsxs)("div",{className:"text-xs space-y-1 text-gray-500",children:[(0,t.jsxs)("p",{className:`flex items-center gap-1 ${g.length>=8?"text-green-400":""}`,children:[g.length>=8?(0,t.jsx)(u,{className:"w-3 h-3"}):(0,t.jsx)("span",{className:"w-3 h-3 inline-block"})," At least 8 characters"]}),(0,t.jsxs)("p",{className:`flex items-center gap-1 ${/[0-9]/.test(g)?"text-green-400":""}`,children:[/[0-9]/.test(g)?(0,t.jsx)(u,{className:"w-3 h-3"}):(0,t.jsx)("span",{className:"w-3 h-3 inline-block"})," Contains number"]}),(0,t.jsxs)("p",{className:`flex items-center gap-1 ${/[^A-Za-z0-9]/.test(g)?"text-green-400":""}`,children:[/[^A-Za-z0-9]/.test(g)?(0,t.jsx)(u,{className:"w-3 h-3"}):(0,t.jsx)("span",{className:"w-3 h-3 inline-block"})," Contains special char"]})]})]})]}),A&&(0,t.jsx)("div",{className:`p-3 rounded-lg text-sm ${"success"===A.type?"bg-green-500/20 text-green-200":"bg-red-500/20 text-red-200"}`,children:A.text}),(0,t.jsx)("button",{type:"submit",disabled:b,className:"w-full glass-button py-3 rounded-xl font-medium text-white flex items-center justify-center gap-2 group",children:b?(0,t.jsx)(o.Loader2,{className:"w-5 h-5 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:["sign_in"===v?"password"===k?"Enter Vault":"Send Magic Link":"Create Account","sign_in"===v?(0,t.jsx)(c,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"}):(0,t.jsx)(d.UserPlus,{className:"w-4 h-4"})]})})]}),(0,t.jsx)("div",{className:"mt-6 text-center text-sm text-gray-400 flex flex-col gap-3",children:"sign_in"===v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>C("password"===k?"magic_link":"password"),className:"hover:text-white transition-colors",children:"password"===k?"Use Magic Link instead":"Use Password login"}),(0,t.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,t.jsx)("span",{children:"New here?"}),(0,t.jsx)("button",{onClick:()=>{N("sign_up"),_(null)},className:"text-blue-400 hover:text-blue-300 font-medium",children:"Sign Up"})]})]}):(0,t.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,t.jsx)("span",{children:"Already have an account?"}),(0,t.jsx)("button",{onClick:()=>{N("sign_in"),_(null)},className:"text-blue-400 hover:text-blue-300 font-medium",children:"Log In"})]})})]})}var f=e.i(94433);function w(){let{user:e,loading:a}=(0,f.useAuth)(),r=(0,l.useRouter)();return((0,s.useEffect)(()=>{!a&&e&&r.push("/dashboard")},[e,a,r]),a)?null:(0,t.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center p-4 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-purple-600/20 rounded-full blur-[100px]"}),(0,t.jsx)("div",{className:"absolute bottom-[-20%] right-[-10%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-[100px]"}),(0,t.jsx)(g,{})]})}e.s(["default",()=>w],31713)}]);